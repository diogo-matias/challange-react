{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { api } from \"../../services/api\";\nvar initialState = {\n  clientes: [],\n  isLoading: false,\n  error: null,\n  selectedCliente: null\n};\nexport var fetchClientes = createAsyncThunk('clientes/fetchClientes', function () {\n  var _ref2 = _asyncToGenerator(function* (_, _ref) {\n    var rejectWithValue = _ref.rejectWithValue;\n    try {\n      var response = yield api.get('/clientes');\n      return response.data;\n    } catch (error) {\n      var _error$response, _error$response$data;\n      return rejectWithValue(((_error$response = error.response) == null ? void 0 : (_error$response$data = _error$response.data) == null ? void 0 : _error$response$data.message) || 'Erro ao carregar clientes');\n    }\n  });\n  return function (_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nexport var createCliente = createAsyncThunk('clientes/createCliente', function () {\n  var _ref4 = _asyncToGenerator(function* (clienteData, _ref3) {\n    var rejectWithValue = _ref3.rejectWithValue;\n    try {\n      var response = yield api.post('/clientes', clienteData);\n      return response.data;\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      return rejectWithValue(((_error$response2 = error.response) == null ? void 0 : (_error$response2$data = _error$response2.data) == null ? void 0 : _error$response2$data.message) || 'Erro ao criar cliente');\n    }\n  });\n  return function (_x3, _x4) {\n    return _ref4.apply(this, arguments);\n  };\n}());\nexport var updateCliente = createAsyncThunk('clientes/updateCliente', function () {\n  var _ref6 = _asyncToGenerator(function* (clienteData, _ref5) {\n    var rejectWithValue = _ref5.rejectWithValue;\n    try {\n      var response = yield api.patch(`/clientes/${clienteData.id}`, clienteData);\n      return response.data;\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      return rejectWithValue(((_error$response3 = error.response) == null ? void 0 : (_error$response3$data = _error$response3.data) == null ? void 0 : _error$response3$data.message) || 'Erro ao atualizar cliente');\n    }\n  });\n  return function (_x5, _x6) {\n    return _ref6.apply(this, arguments);\n  };\n}());\nexport var deleteCliente = createAsyncThunk('clientes/deleteCliente', function () {\n  var _ref8 = _asyncToGenerator(function* (id, _ref7) {\n    var rejectWithValue = _ref7.rejectWithValue;\n    try {\n      yield api.delete(`/clientes/test/${id}`);\n      return id;\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      return rejectWithValue(((_error$response4 = error.response) == null ? void 0 : (_error$response4$data = _error$response4.data) == null ? void 0 : _error$response4$data.message) || 'Erro ao excluir cliente');\n    }\n  });\n  return function (_x7, _x8) {\n    return _ref8.apply(this, arguments);\n  };\n}());\nvar clientesSlice = createSlice({\n  name: 'clientes',\n  initialState: initialState,\n  reducers: {\n    setSelectedCliente: function setSelectedCliente(state, action) {\n      state.selectedCliente = action.payload;\n    },\n    clearSelectedCliente: function clearSelectedCliente(state) {\n      state.selectedCliente = null;\n    },\n    clearError: function clearError(state) {\n      state.error = null;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(fetchClientes.pending, function (state) {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(fetchClientes.fulfilled, function (state, action) {\n      state.isLoading = false;\n      state.clientes = action.payload;\n    }).addCase(fetchClientes.rejected, function (state, action) {\n      state.isLoading = false;\n      state.error = action.payload;\n    }).addCase(createCliente.fulfilled, function (state, action) {\n      state.clientes.push(action.payload);\n    }).addCase(createCliente.rejected, function (state, action) {\n      state.error = action.payload;\n    }).addCase(updateCliente.fulfilled, function (state, action) {\n      var index = state.clientes.findIndex(function (cliente) {\n        return cliente.id === action.payload.id;\n      });\n      if (index !== -1) {\n        state.clientes[index] = action.payload;\n      }\n    }).addCase(updateCliente.rejected, function (state, action) {\n      state.error = action.payload;\n    }).addCase(deleteCliente.fulfilled, function (state, action) {\n      state.clientes = state.clientes.filter(function (cliente) {\n        return cliente.id !== action.payload;\n      });\n    }).addCase(deleteCliente.rejected, function (state, action) {\n      state.error = action.payload;\n    });\n  }\n});\nvar _clientesSlice$action = clientesSlice.actions,\n  setSelectedCliente = _clientesSlice$action.setSelectedCliente,\n  clearSelectedCliente = _clientesSlice$action.clearSelectedCliente,\n  clearError = _clientesSlice$action.clearError;\nexport { setSelectedCliente, clearSelectedCliente, clearError };\nexport default clientesSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","api","initialState","clientes","isLoading","error","selectedCliente","fetchClientes","_ref2","_asyncToGenerator","_","_ref","rejectWithValue","response","get","data","_error$response","_error$response$data","message","_x","_x2","apply","arguments","createCliente","_ref4","clienteData","_ref3","post","_error$response2","_error$response2$data","_x3","_x4","updateCliente","_ref6","_ref5","patch","id","_error$response3","_error$response3$data","_x5","_x6","deleteCliente","_ref8","_ref7","delete","_error$response4","_error$response4$data","_x7","_x8","clientesSlice","name","reducers","setSelectedCliente","state","action","payload","clearSelectedCliente","clearError","extraReducers","builder","addCase","pending","fulfilled","rejected","push","index","findIndex","cliente","filter","_clientesSlice$action","actions","reducer"],"sources":["C:/Users/diogo/OneDrive/Desktop/learning/loja-challenge/frontend/src/store/slices/clientesSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { ClientesState, CreateClienteData, UpdateClienteData } from '../types';\r\nimport { api } from '../../services/api';\r\n\r\nconst initialState: ClientesState = {\r\n  clientes: [],\r\n  isLoading: false,\r\n  error: null,\r\n  selectedCliente: null,\r\n};\r\n\r\nexport const fetchClientes = createAsyncThunk(\r\n  'clientes/fetchClientes',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const response = await api.get('/clientes');\r\n      return response.data;\r\n    } catch (error: any) {\r\n      return rejectWithValue(error.response?.data?.message || 'Erro ao carregar clientes');\r\n    }\r\n  }\r\n);\r\n\r\nexport const createCliente = createAsyncThunk(\r\n  'clientes/createCliente',\r\n  async (clienteData: CreateClienteData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await api.post('/clientes', clienteData);\r\n      return response.data;\r\n    } catch (error: any) {\r\n      return rejectWithValue(error.response?.data?.message || 'Erro ao criar cliente');\r\n    }\r\n  }\r\n);\r\n\r\nexport const updateCliente = createAsyncThunk(\r\n  'clientes/updateCliente',\r\n  async (clienteData: UpdateClienteData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await api.patch(`/clientes/${clienteData.id}`, clienteData);\r\n      return response.data;\r\n    } catch (error: any) {\r\n      return rejectWithValue(error.response?.data?.message || 'Erro ao atualizar cliente');\r\n    }\r\n  }\r\n);\r\n\r\nexport const deleteCliente = createAsyncThunk(\r\n  'clientes/deleteCliente',\r\n  async (id: number, { rejectWithValue }) => {\r\n    try {\r\n      await api.delete(`/clientes/test/${id}`);\r\n      return id;\r\n    } catch (error: any) {\r\n      return rejectWithValue(error.response?.data?.message || 'Erro ao excluir cliente');\r\n    }\r\n  }\r\n);\r\n\r\nconst clientesSlice = createSlice({\r\n  name: 'clientes',\r\n  initialState,\r\n  reducers: {\r\n    setSelectedCliente: (state, action) => {\r\n      state.selectedCliente = action.payload;\r\n    },\r\n    clearSelectedCliente: (state) => {\r\n      state.selectedCliente = null;\r\n    },\r\n    clearError: (state) => {\r\n      state.error = null;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      // Fetch Clientes\r\n      .addCase(fetchClientes.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchClientes.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.clientes = action.payload;\r\n      })\r\n      .addCase(fetchClientes.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.error = action.payload as string;\r\n      })\r\n      // Create Cliente\r\n      .addCase(createCliente.fulfilled, (state, action) => {\r\n        state.clientes.push(action.payload);\r\n      })\r\n      .addCase(createCliente.rejected, (state, action) => {\r\n        state.error = action.payload as string;\r\n      })\r\n      // Update Cliente\r\n      .addCase(updateCliente.fulfilled, (state, action) => {\r\n        const index = state.clientes.findIndex(cliente => cliente.id === action.payload.id);\r\n        if (index !== -1) {\r\n          state.clientes[index] = action.payload;\r\n        }\r\n      })\r\n      .addCase(updateCliente.rejected, (state, action) => {\r\n        state.error = action.payload as string;\r\n      })\r\n      // Delete Cliente\r\n      .addCase(deleteCliente.fulfilled, (state, action) => {\r\n        state.clientes = state.clientes.filter(cliente => cliente.id !== action.payload);\r\n      })\r\n      .addCase(deleteCliente.rejected, (state, action) => {\r\n        state.error = action.payload as string;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { setSelectedCliente, clearSelectedCliente, clearError } = clientesSlice.actions;\r\nexport default clientesSlice.reducer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}